!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n=window.webpackJsonp;window.webpackJsonp=function(i,o,s){for(var a,u,c,l=0,f=[];l<i.length;l++)u=i[l],r[u]&&f.push(r[u][0]),r[u]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);for(n&&n(i,o,s);f.length;)f.shift()();if(s)for(l=0;l<s.length;l++)c=t(t.s=s[l]);return c};var i={},r={1:0};t.e=function(e){function n(){a.onerror=a.onload=null,clearTimeout(u);var t=r[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),r[e]=void 0)}var i=r[e];if(0===i)return new Promise(function(e){e()});if(i)return i[2];var o=new Promise(function(t,n){i=r[e]=[t,n]});i[2]=o;var s=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.timeout=12e4,t.nc&&a.setAttribute("nonce",t.nc),a.src=t.p+"lib/"+e+"."+{0:"826f0c"}[e]+".js";var u=setTimeout(n,12e4);return a.onerror=a.onload=n,s.appendChild(a),o},t.m=e,t.c=i,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.oe=function(e){throw console.error(e),e}}({125:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){return e[t]?e[t][n]:null}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(331),a=n(336),u=function(){function e(t,n){i(this,e),this.x=t,this.y=n,this.covered=!0,this.mine=!1,this.flag=!1}return o(e,[{key:"indexAround",value:function(e){this.around=a.compact([r(e,this.y,this.x+1),r(e,this.y+1,this.x+1),r(e,this.y+1,this.x),r(e,this.y+1,this.x-1),r(e,this.y,this.x-1),r(e,this.y-1,this.x-1),r(e,this.y-1,this.x),r(e,this.y-1,this.x+1)]),this.aroundMinesCount=a.countBy(this.around,"mine").true||0}},{key:"toString",value:function(){return this.flag?this.covered||this.mine?"F":"X":this.covered?"-":this.mine?"*":String(this.aroundMinesCount)}}]),e}(),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;i(this,e),this.height=null,this.width=null,this.tiles=null,this.map=null,this.reset(t,n,r)}return o(e,[{key:"reset",value:function(e,t,n){s(n<=t*e,"minesCount:"+n+" must smaller than grid size:"+t+"*"+e),this.isGameOver=!1,this.height=e,this.width=t,this.minesCount=n,this.tiles=[];for(var i=0;i<this.height;i+=1)for(var r=0;r<this.width;r+=1){var o=new u(r,i);this.tiles.push(o)}a.forEach(a.sampleSize(this.tiles,n),function(e){e.mine=!0}),this.indexTileMap()}},{key:"indexTileMap",value:function(){var e=this,t=a.times(this.height,function(){return a.times(e.width,a.constant(null))});a.forEach(this.tiles,function(e){t[e.y][e.x]=e}),a.forEach(this.tiles,function(e){e.indexAround(t)}),this.map=t}},{key:"toString",value:function(){var e="",t=!0,n=!1,i=void 0;try{for(var r,o=this.map[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value,a=!0,u=!1,c=void 0;try{for(var l,f=s[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){e+=l.value.toString()}}catch(e){u=!0,c=e}finally{try{!a&&f.return&&f.return()}finally{if(u)throw c}}e+="\n"}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}return e}},{key:"assertRange",value:function(e,t){s(0<=e&&e<this.height&&0<=t&&t<this.width,"tile["+e+"]["+t+"] is out of grid range")}},{key:"open",value:function(e,t){var n=this;this.assertRange(e,t);var i=this.map[e][t];if(this.isGameOver)return!1;if(i.flag)return!1;if(!i.covered)return!1;if(i.covered=!1,i.mine&&this.gameOver(),!i.aroundMinesCount){var r=a.chain(i.around).filter("covered").reject("mine").reject("flag").value();a.forEach(r,function(e){n.open(e.y,e.x)})}return!0}},{key:"flag",value:function(e,t){if(this.isGameOver)return!1;this.assertRange(e,t);var n=this.map[e][t];return!!n.covered&&(n.flag=!n.flag,!0)}},{key:"gameOver",value:function(){a.forEach(a.filter(this.tiles,function(e){return e.mine||e.flag}),function(e){e.covered=!1}),this.isGameOver=!0}},{key:"flagAllMine",value:function(){a.forEach(a.filter(this.tiles,"mine"),function(e){e.flag=!0})}},{key:"remainMinesCount",get:function(){return this.minesCount-a.filter(this.tiles,"flag").length}},{key:"isWin",get:function(){return a.filter(this.tiles,"covered").length===this.minesCount}},{key:"isStart",get:function(){return 0!==a.reject(this.tiles,"covered").length}},{key:"isEnd",get:function(){return this.isWin||this.isGameOver}}]),e}();e.exports={Tile:u,Grid:c}},329:function(e,t,n){"use strict";n(330),n(125),n(338),e.exports={"webpack-index-template":{id:"webpack-index-template"},"minesweeper-core":{id:"minesweeper-core"},"minesweeper-web-ui":{id:"minesweeper-web-ui"}}},330:function(e,t,n){"use strict"},338:function(e,t,n){"use strict";function i(e,t){e.html("");for(var n=t.toString().replace(/\n/g,""),r=0;r<n.length;r+=1)!function(r){var o=Math.floor(r/t.width),a=r%t.width,u=s("<div>").addClass("cell").attr("id",o+"_"+a),c=n[r];switch(c){case"-":u.addClass("covered");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":u.addClass("uncovered"+c);break;case"F":u.addClass("flag");break;case"*":u.addClass("mine");break;case"X":u.addClass("flag").addClass("error")}u.mouseenter(function(){return u.addClass("mouseover")}),u.mouseleave(function(){return u.removeClass("mouseover")}),u.mouseup(function(n){t.isEnd||(1===n.which?t.open(o,a)&&(t.isWin&&t.flagAllMine(),i(e,t)):3===n.which&&t.flag(o,a)&&i(e,t))}),e.append(u)}(r)}function r(e,t){var n=Math.floor(t/100)%10,i=Math.floor(t/10)%10,r=Math.floor(t)%10;e.find(".hundreds").attr("id","d"+n),e.find(".tens").attr("id","d"+i),e.find(".ones").attr("id","d"+r)}function o(e,t,n){var a=null,c=null,l=s(".board"),f=l.find(".grid"),h=l.find(".tool-bar"),d=h.find(".mine"),v=h.find(".face-button"),m=h.find(".time"),p=new u(e,t,n);l.width(16*p.width+14),f.width(16*p.width),h.width(16*p.width),f.mousedown(function(e){p.isEnd||1===e.which&&(f.addClass("press"),v.addClass("oops"))});var g=function(){f.removeClass("press"),v.removeClass("oops"),p.isGameOver?v.addClass("gameover"):p.isWin&&v.addClass("win"),p.isStart&&(a||(c=Date.now(),a=setInterval(function(){return r(m,Math.floor(Date.now()-c)/1e3)},500))),p.isEnd&&a&&clearInterval(a),r(d,p.remainMinesCount)};f.mouseleave(g),f.mouseup(g);var w=s(".menu #beginner"),y=s(".menu #intermediate"),k=s(".menu #expert"),b=function(){a&&clearInterval(a),f.off("mouseleave"),f.off("mousedown"),f.off("mouseup"),w.off("click"),y.off("click"),k.off("click"),v.off("click"),v.removeClass("gameover"),v.removeClass("win")};w.click(function(){return b()||o(9,9,10)}),y.click(function(){return b()||o(16,16,40)}),k.click(function(){return b()||o(16,30,99)}),v.click(function(){return b()||o(e,t,n)}),r(d,p.remainMinesCount),r(m,0),i(f,p)}var s=n(339),a=n(125),u=a.Grid,c=n(342);n(343),s(function(){s("title").html("Minesweeper");var e=s("#brickyard-app");e.html("").append(s(c)),e.attr("ondragstart","return false;"),e.attr("oncontextmenu","return false;"),o(9,9,10)})},343:function(e,t){}});